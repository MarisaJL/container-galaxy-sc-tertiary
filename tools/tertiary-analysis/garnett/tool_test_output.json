{"tests": [{"data": {"status": "success", "tool_id": "garnett_check_markers", "time_seconds": 41.36711406707764, "inputs": {"cds_object": {"src": "hda", "id": "2891970512fa2d5a"}, "marker_file_path": {"src": "hda", "id": "5729865256bc2525"}}, "tool_version": "0.2.8+galaxy0", "job": {"stdout": "[1] \"plotting path /private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/8/5/a/dataset_85a24a7e-cafc-4132-bf6f-7ce90b3ea33b.dat\"\nnull device \n          1 \n", "job_stderr": "", "create_time": "2020-03-25T16:04:28.684261", "id": "54f2a3a23292eb07", "command_line": "garnett_check_markers.R --cds-object '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/0/7/4/dataset_07411610-c851-4d92-9a09-754eae22a15a.dat' --marker-file-path '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/e/d/c/dataset_edc34650-261f-44f3-9e31-fbe2acafbfe0.dat' --database 'org.Hs.eg.db' --cds-gene-id-type 'ENSEMBL' --marker-file-gene-id-type 'ENSEMBL' --marker-output-path '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/9/9/1/dataset_9919866f-ff90-458f-9696-1b1505d744a1.dat' --plot-output-path '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/8/5/a/dataset_85a24a7e-cafc-4132-bf6f-7ce90b3ea33b.dat' --propogate-markers 'true' --classifier-gene-id-type 'ENSEMBL'", "exit_code": 0, "tool_stderr": "There are 10 cell type definitions\n", "tool_id": "garnett_check_markers", "params": {"cds_gene_id_type": "\"ENSEMBL\"", "database": "\"org.Hs.eg.db\"", "dbkey": "\"?\"", "marker_file_gene_id_type": "\"ENSEMBL\"", "propogate_markers": "\"true\"", "classifier_gene_id_type": "\"ENSEMBL\"", "chromInfo": "\"/Users/a_solovyev/galaxy_20.01/tool-data/shared/ucsc/chrom/?.len\"", "__input_ext": "\"input\""}, "tool_stdout": "[1] \"plotting path /private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/8/5/a/dataset_85a24a7e-cafc-4132-bf6f-7ce90b3ea33b.dat\"\nnull device \n          1 \n", "job_messages": [], "inputs": {"cds_object": {"src": "hda", "id": "2891970512fa2d5a", "uuid": "07411610-c851-4d92-9a09-754eae22a15a"}, "marker_file_path": {"src": "hda", "id": "5729865256bc2525", "uuid": "edc34650-261f-44f3-9e31-fbe2acafbfe0"}}, "update_time": "2020-03-25T16:04:52.294590", "state": "ok", "outputs": {"marker_output_path": {"src": "hda", "id": "54f2a3a23292eb07", "uuid": "9919866f-ff90-458f-9696-1b1505d744a1"}, "plot_output_path": {"src": "hda", "id": "8155e4b4bf1581ff", "uuid": "85a24a7e-cafc-4132-bf6f-7ce90b3ea33b"}}, "history_id": "2891970512fa2d5a", "command_version": "", "job_metrics": [], "job_stdout": "", "galaxy_version": "20.01", "stderr": "There are 10 cell type definitions\n", "model_class": "Job", "external_id": "54069", "user_email": "test@bx.psu.edu"}, "test_index": 0}, "id": "functional.test_toolbox.TestForTool_garnett_check_markers.test_tool_000000", "has_data": true}, {"data": {"status": "success", "tool_id": "garnett_classify_cells", "time_seconds": 34.4455668926239, "inputs": {"cds_object": {"src": "hda", "id": "7b55dbb89df8f4e5"}, "classifier_object": {"src": "hda", "id": "fa6d20d0fb68383f"}}, "tool_version": "0.2.8+galaxy0", "job": {"stdout": "", "job_stderr": "", "create_time": "2020-03-25T16:05:10.088658", "id": "fa6d20d0fb68383f", "command_line": "garnett_classify_cells.R --cds-object '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/9/b/5/dataset_9b58bb73-a5f4-477d-96b7-f0bfc294a389.dat' --classifier-object '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/1/3/1/dataset_1312c918-e542-4b14-b45f-ccfe8c4db12c.dat' --database 'org.Hs.eg.db' --cds-gene-id-type 'ENSEMBL' --cluster-extend 'true' --rank-prob-ratio '1.5' --cds-output-obj '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/8/5/1/dataset_8515e831-143b-4217-ab89-759a85254b6f.dat'", "exit_code": 0, "tool_stderr": "", "tool_id": "garnett_classify_cells", "params": {"cds_gene_id_type": "\"ENSEMBL\"", "rank_prob_ratio": "\"1.5\"", "database": "\"org.Hs.eg.db\"", "dbkey": "\"?\"", "cluster_extend": "\"true\"", "chromInfo": "\"/Users/a_solovyev/galaxy_20.01/tool-data/shared/ucsc/chrom/?.len\"", "__input_ext": "\"input\""}, "tool_stdout": "", "job_messages": [], "inputs": {"cds_object": {"src": "hda", "id": "7b55dbb89df8f4e5", "uuid": "9b58bb73-a5f4-477d-96b7-f0bfc294a389"}, "classifier_object": {"src": "hda", "id": "fa6d20d0fb68383f", "uuid": "1312c918-e542-4b14-b45f-ccfe8c4db12c"}}, "update_time": "2020-03-25T16:05:29.255959", "state": "ok", "outputs": {"cds_output_obj": {"src": "hda", "id": "683bc220e21425bb", "uuid": "8515e831-143b-4217-ab89-759a85254b6f"}}, "history_id": "5729865256bc2525", "command_version": "", "job_metrics": [], "job_stdout": "", "galaxy_version": "20.01", "stderr": "", "model_class": "Job", "external_id": "57054", "user_email": "test@bx.psu.edu"}, "test_index": 0}, "id": "functional.test_toolbox.TestForTool_garnett_classify_cells.test_tool_000000", "has_data": true}, {"data": {"status": "success", "tool_id": "garnett_get_std_output", "time_seconds": 33.9132981300354, "inputs": {"input_object": {"src": "hda", "id": "a90a30fafe298e1e"}}, "tool_version": "0.2.8+galaxy0", "job": {"stdout": "no index column provided; use row names\n", "job_stderr": "", "create_time": "2020-03-25T16:05:37.315151", "id": "a90a30fafe298e1e", "command_line": "garnett_get_std_output.R --input-object '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/0/5/5/dataset_0553f708-6ed7-46ec-8c18-75ced9de50f3.dat' --output-file-path '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/1/b/e/dataset_1be08c82-dd67-4abf-aa90-0e9af678e9eb.dat'", "exit_code": 0, "tool_stderr": "", "tool_id": "garnett_get_std_output", "params": {"chromInfo": "\"/Users/a_solovyev/galaxy_20.01/tool-data/shared/ucsc/chrom/?.len\"", "__input_ext": "\"input\"", "dbkey": "\"?\""}, "tool_stdout": "no index column provided; use row names\n", "job_messages": [], "inputs": {"input_object": {"src": "hda", "id": "a90a30fafe298e1e", "uuid": "0553f708-6ed7-46ec-8c18-75ced9de50f3"}}, "update_time": "2020-03-25T16:05:53.400862", "state": "ok", "outputs": {"output_file_path": {"src": "hda", "id": "b842d972534ccb3e", "uuid": "1be08c82-dd67-4abf-aa90-0e9af678e9eb"}}, "history_id": "54f2a3a23292eb07", "command_version": "", "job_metrics": [], "job_stdout": "", "galaxy_version": "20.01", "stderr": "", "model_class": "Job", "external_id": "59910", "user_email": "test@bx.psu.edu"}, "test_index": 0}, "id": "functional.test_toolbox.TestForTool_garnett_get_std_output.test_tool_000000", "has_data": true}, {"data": {"status": "failure", "tool_id": "garnett_train_classifier", "time_seconds": 118.12852597236633, "inputs": {"cds_object": {"src": "hda", "id": "5449172d6ff5669b"}, "marker_file_path": {"src": "hda", "id": "9ce08b2254e4d5ed"}}, "tool_version": "0.2.8+galaxy0", "output_problems": ["History item  different than expected, difference (using diff):\n( /var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpre9lk1trained_classifier.rds v. /var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpqTSGUGtrained_classifier.rds )\nBinary data detected, not displaying diff"], "job": {"stdout": "training_sample\n      1       2       3       4       5       7 Unknown \n      2       2       2       2      13      19      77 \n", "job_stderr": "", "create_time": "2020-03-25T16:06:18.579153", "id": "9ce08b2254e4d5ed", "command_line": "garnett_train_classifier.R --cds-object '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/8/9/a/dataset_89a04f1c-640d-4537-a059-8ab016846ae0.dat' --marker-file-path '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/4/2/4/dataset_4243fab4-6d17-4373-94f1-fa0825c266ca.dat' --database 'org.Hs.eg.db' --cds-gene-id-type 'ENSEMBL' --marker-file-gene-id-type 'ENSEMBL' --num-unknown '500' --min-observations '8' --max-training-samples '500' --propogate-markers 'true' --cores '1' --classifier-gene-id-type 'ENSEMBL' --output-path '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/4/8/a/dataset_48a9132e-acec-44a2-8eb7-c184e12090d5.dat'", "exit_code": 0, "tool_stderr": "There are 10 cell type definitions\nWarning in (function (A, nv = 5, nu = nv, maxit = 1000, work = nv + 7, reorth = TRUE,  :\n  You're computing too large a percentage of total singular values, use a standard svd instead.\nThe following cell types do not have enough training cells and will be dropped:  1 2 3 4\nModel training finished.\n", "tool_id": "garnett_train_classifier", "params": {"num_unknown": "\"500\"", "cds_gene_id_type": "\"ENSEMBL\"", "database": "\"org.Hs.eg.db\"", "dbkey": "\"?\"", "marker_file_gene_id_type": "\"ENSEMBL\"", "propogate_markers": "\"true\"", "cores": "\"1\"", "classifier_gene_id_type": "\"ENSEMBL\"", "min_observations": "\"8\"", "max_training_samples": "\"500\"", "chromInfo": "\"/Users/a_solovyev/galaxy_20.01/tool-data/shared/ucsc/chrom/?.len\"", "__input_ext": "\"input\""}, "tool_stdout": "training_sample\n      1       2       3       4       5       7 Unknown \n      2       2       2       2      13      19      77 \n", "job_messages": [], "inputs": {"cds_object": {"src": "hda", "id": "5449172d6ff5669b", "uuid": "89a04f1c-640d-4537-a059-8ab016846ae0"}, "marker_file_path": {"src": "hda", "id": "9ce08b2254e4d5ed", "uuid": "4243fab4-6d17-4373-94f1-fa0825c266ca"}}, "update_time": "2020-03-25T16:07:56.702999", "state": "ok", "outputs": {"output_classifier_path": {"src": "hda", "id": "80b8022ff3f677b7", "uuid": "48a9132e-acec-44a2-8eb7-c184e12090d5"}}, "history_id": "8155e4b4bf1581ff", "command_version": "", "job_metrics": [], "job_stdout": "", "galaxy_version": "20.01", "stderr": "There are 10 cell type definitions\nWarning in (function (A, nv = 5, nu = nv, maxit = 1000, work = nv + 7, reorth = TRUE,  :\n  You're computing too large a percentage of total singular values, use a standard svd instead.\nThe following cell types do not have enough training cells and will be dropped:  1 2 3 4\nModel training finished.\n", "model_class": "Job", "external_id": "62795", "user_email": "test@bx.psu.edu"}, "test_index": 0, "problem_type": "galaxy.tool_util.verify.interactor.JobOutputsError", "problem_log": "Traceback (most recent call last):\n  File \"/Users/a_solovyev/miniconda3/envs/planemo/lib/python2.7/unittest/case.py\", line 329, in run\n    testMethod()\n  File \"/Users/a_solovyev/galaxy_20.01/test/functional/test_toolbox.py\", line 99, in test_tool\n    self.do_it(tool_version=tool_version, test_index=test_index)\n  File \"/Users/a_solovyev/galaxy_20.01/test/functional/test_toolbox.py\", line 36, in do_it\n    verify_tool(tool_id, self.galaxy_interactor, resource_parameters=resource_parameters, test_index=test_index, tool_version=tool_version, register_job_data=register_job_data)\n  File \"/Users/a_solovyev/galaxy_20.01/lib/galaxy/tool_util/verify/interactor.py\", line 789, in verify_tool\n    raise e\nJobOutputsError: History item  different than expected, difference (using diff):\n( /var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpre9lk1trained_classifier.rds v. /var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpqTSGUGtrained_classifier.rds )\nBinary data detected, not displaying diff\n"}, "id": "functional.test_toolbox.TestForTool_garnett_train_classifier.test_tool_000000", "has_data": true}, {"data": {"status": "success", "tool_id": "garnett_transform_markers", "time_seconds": 28.35295295715332, "inputs": {"marker_list": {"src": "hda", "id": "1ae74d26531588b0"}, "input_marker_file": {"src": "hda", "id": "b54fb481e575bccc"}}, "tool_version": "0.2.8+galaxy0", "job": {"stdout": "[1] TRUE\n", "job_stderr": "", "create_time": "2020-03-25T16:08:17.014452", "id": "1ae74d26531588b0", "command_line": "transform_marker_file.R --input-marker-file '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/8/1/3/dataset_813726e6-b006-4fa6-8f0d-ed2dc6778719.dat' --marker-list '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/f/e/e/dataset_fee83068-9f40-4b05-9b13-6a2284f7dec1.dat' --pval-col 'pvals' --pval-threshold '0.05' --groups-col 'groups' --gene-names 'names' --garnett-marker-file '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/a/0/1/dataset_a019542d-d8c3-4bd3-bb79-b7899c1b9005.dat'", "exit_code": 0, "tool_stderr": "", "tool_id": "garnett_transform_markers", "params": {"chromInfo": "\"/Users/a_solovyev/galaxy_20.01/tool-data/shared/ucsc/chrom/?.len\"", "dbkey": "\"?\"", "pval_col": "\"pvals\"", "groups_col": "\"groups\"", "gene_names": "\"names\"", "__input_ext": "\"input\"", "pval_threshold": "\"0.05\""}, "tool_stdout": "[1] TRUE\n", "job_messages": [], "inputs": {"marker_list": {"src": "hda", "id": "1ae74d26531588b0", "uuid": "fee83068-9f40-4b05-9b13-6a2284f7dec1"}, "input_marker_file": {"src": "hda", "id": "b54fb481e575bccc", "uuid": "813726e6-b006-4fa6-8f0d-ed2dc6778719"}}, "update_time": "2020-03-25T16:08:29.219616", "state": "ok", "outputs": {"garnett_marker_file": {"src": "hda", "id": "440a6c2b5d9efe20", "uuid": "a019542d-d8c3-4bd3-bb79-b7899c1b9005"}}, "history_id": "7b55dbb89df8f4e5", "command_version": "", "job_metrics": [], "job_stdout": "", "galaxy_version": "20.01", "stderr": "", "model_class": "Job", "external_id": "65725", "user_email": "test@bx.psu.edu"}, "test_index": 0}, "id": "functional.test_toolbox.TestForTool_garnett_transform_markers.test_tool_000000", "has_data": true}, {"data": {"status": "success", "tool_id": "update_marker_file", "time_seconds": 28.09008002281189, "inputs": {"marker_list_obj": {"src": "hda", "id": "ea0b941dfbe636f8"}, "marker_check_file": {"src": "hda", "id": "27ee89e2e3d631e0"}}, "tool_version": "0.2.8+galaxy0", "job": {"stdout": "[1] TRUE\n", "job_stderr": "", "create_time": "2020-03-25T16:08:45.007679", "id": "27ee89e2e3d631e0", "command_line": "update_marker_file.R --marker-list-obj '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/1/0/7/dataset_1071957d-53ef-4816-a4de-e1e8dbfe88bf.dat' --marker-check-file '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/b/9/1/dataset_b91e93a5-8fca-4f4e-ac65-589422c3aa82.dat' --summary-col 'summary' --cell-type-col 'cell_type' --gene-id-col 'gene_id' --updated-marker-file '/private/var/folders/r2/1kllr14j727gd63wnh8_2gm5086_fg/T/tmpfkamcx28/files/6/d/7/dataset_6d7d1573-c145-483b-93ea-b322378d621b.dat'", "exit_code": 0, "tool_stderr": "", "tool_id": "update_marker_file", "params": {"summary_col": "\"summary\"", "gene_id_col": "\"gene_id\"", "cell_type_col": "\"cell_type\"", "dbkey": "\"?\"", "chromInfo": "\"/Users/a_solovyev/galaxy_20.01/tool-data/shared/ucsc/chrom/?.len\"", "__input_ext": "\"input\""}, "tool_stdout": "[1] TRUE\n", "job_messages": [], "inputs": {"marker_list_obj": {"src": "hda", "id": "ea0b941dfbe636f8", "uuid": "1071957d-53ef-4816-a4de-e1e8dbfe88bf"}, "marker_check_file": {"src": "hda", "id": "27ee89e2e3d631e0", "uuid": "b91e93a5-8fca-4f4e-ac65-589422c3aa82"}}, "update_time": "2020-03-25T16:08:57.221764", "state": "ok", "outputs": {"updated_marker_file": {"src": "hda", "id": "61f03d5eef6f1538", "uuid": "6d7d1573-c145-483b-93ea-b322378d621b"}}, "history_id": "fa6d20d0fb68383f", "command_version": "", "job_metrics": [], "job_stdout": "", "galaxy_version": "20.01", "stderr": "", "model_class": "Job", "external_id": "68622", "user_email": "test@bx.psu.edu"}, "test_index": 0}, "id": "functional.test_toolbox.TestForTool_update_marker_file.test_tool_000000", "has_data": true}], "version": "0.1", "summary": {"num_tests": 6, "num_failures": 1, "num_errors": 0, "num_skips": 0}, "exit_code": 1}