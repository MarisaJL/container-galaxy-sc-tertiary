<?xml version="1.0" encoding="utf-8"?>
<tool id="sccaf_distribute_assesment" name="SCCAF distribute assesment" version="@TOOL_VERSION@+galaxy0">
  <description>parallelises outputs of sccaff run for assesment.</description>
  <macros>
    <import>sccaf_macros.xml</import>
  </macros>
  <requirements>
    <!-- minimal package with bash 4.2 -->
    <requirement type="package" version="1.18">gnu-wget</requirement>
  </requirements>
  <command detect_errors="exit_code"><![CDATA[
mkdir -p outputs;
for round in \$(cat $input_rounds); do
  echo "Round: "\$round;
  echo \$round > outputs/round_\$round\.txt;
done
]]></command>

  <inputs>
    <param name="input_rounds" type="data" format="txt" label="Rounds file from run-sccaf" help="The rounds file is produced by SCCAF when set to the optimise mode."/>
  </inputs>

  <outputs>
    <collection name="rounds" type="list" label="Rounds">
      <discover_datasets pattern="__name_and_ext__" directory="outputs"/>
    </collection>
  </outputs>

  <help><![CDATA[
]]></help>
  <!-- <expand macro="citations"/> -->
</tool>
